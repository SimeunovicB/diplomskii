{"ast":null,"code":"var _jsxFileName = \"G:\\\\FAKS PREDMETI\\\\diplomskii\\\\ISA\\\\reactapp\\\\src\\\\components\\\\users\\\\InactiveUserItem.js\",\n    _s = $RefreshSig$();\n\nimport classes from \"./InactiveUserItem.module.css\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport Web3 from \"web3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction InactiveUserItem(props) {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [adminWalletAddress, setAdminWalletAddress] = useState(\"\");\n  const [userId, setUserId] = useState();\n  console.log(\"PROPS InactiveUserItem \", props);\n  console.log(props.id);\n  useEffect(() => {\n    (async () => {\n      const response = await fetch(\"http://127.0.0.1:8000/api/user\", {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n      });\n      const content = await response.json();\n      setUserId(content.id);\n    })();\n  }, []);\n  useEffect(() => {\n    axios({\n      method: \"get\",\n      url: \"api/admin\"\n    }).then(response => {\n      console.log(\"API ADMIN INACTIVE USER ITEM \", response.data);\n      let admin = response.data;\n      setAdminWalletAddress(admin.wallet_address);\n    });\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  async function loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      window.ethereum.enable();\n      console.log(\"USAO U IF\");\n    }\n\n    console.log(\"USAO U loadWeb3\");\n  }\n\n  async function loadContract() {\n    console.log(\"VERZIJA WEB3\");\n    console.log(window.web3.version);\n    return await new window.web3.eth.Contract([{\n      constant: true,\n      inputs: [],\n      name: \"name\",\n      outputs: [{\n        name: \"\",\n        type: \"string\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: false,\n      inputs: [{\n        name: \"_spender\",\n        type: \"address\"\n      }, {\n        name: \"_value\",\n        type: \"uint256\"\n      }],\n      name: \"approve\",\n      outputs: [{\n        name: \"\",\n        type: \"bool\"\n      }],\n      payable: false,\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [],\n      name: \"totalSupply\",\n      outputs: [{\n        name: \"\",\n        type: \"uint256\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: false,\n      inputs: [{\n        name: \"_from\",\n        type: \"address\"\n      }, {\n        name: \"_to\",\n        type: \"address\"\n      }, {\n        name: \"_value\",\n        type: \"uint256\"\n      }],\n      name: \"transferFrom\",\n      outputs: [{\n        name: \"\",\n        type: \"bool\"\n      }],\n      payable: false,\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [],\n      name: \"decimals\",\n      outputs: [{\n        name: \"\",\n        type: \"uint8\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [{\n        name: \"_owner\",\n        type: \"address\"\n      }],\n      name: \"balanceOf\",\n      outputs: [{\n        name: \"balance\",\n        type: \"uint256\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [],\n      name: \"symbol\",\n      outputs: [{\n        name: \"\",\n        type: \"string\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: false,\n      inputs: [{\n        name: \"_to\",\n        type: \"address\"\n      }, {\n        name: \"_value\",\n        type: \"uint256\"\n      }],\n      name: \"transfer\",\n      outputs: [{\n        name: \"\",\n        type: \"bool\"\n      }],\n      payable: false,\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [{\n        name: \"_owner\",\n        type: \"address\"\n      }, {\n        name: \"_spender\",\n        type: \"address\"\n      }],\n      name: \"allowance\",\n      outputs: [{\n        name: \"\",\n        type: \"uint256\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      payable: true,\n      stateMutability: \"payable\",\n      type: \"fallback\"\n    }, {\n      anonymous: false,\n      inputs: [{\n        indexed: true,\n        name: \"owner\",\n        type: \"address\"\n      }, {\n        indexed: true,\n        name: \"spender\",\n        type: \"address\"\n      }, {\n        indexed: false,\n        name: \"value\",\n        type: \"uint256\"\n      }],\n      name: \"Approval\",\n      type: \"event\"\n    }, {\n      anonymous: false,\n      inputs: [{\n        indexed: true,\n        name: \"from\",\n        type: \"address\"\n      }, {\n        indexed: true,\n        name: \"to\",\n        type: \"address\"\n      }, {\n        indexed: false,\n        name: \"value\",\n        type: \"uint256\"\n      }],\n      name: \"Transfer\",\n      type: \"event\"\n    }], \"0x3e6c08800313ae6a225a3f72c691bc4ce971dd03\");\n  }\n\n  async function load() {\n    console.log(\"EVO GA\");\n    await loadWeb3();\n    window.contract = await loadContract();\n    console.log(window.contract);\n    console.log(window.contract.methods);\n    console.log(\"USAO U LOAD u ADD RESULTS FOR FIGHTS LIST\");\n  }\n\n  load(this); //   const makeUserActive = () => {\n  //       axios({\n  //           method: 'put',\n  //           url: 'api/user/active',\n  //           data: {\n  //               userId: props.id\n  //           }.then(response => {\n  //               console.log(response.data);\n  //               user = response.data;\n  //           })\n  //       })\n  //   }\n\n  async function makeUserActive() {\n    let transferSuccess; // if (userId === 1) {\n\n    try {\n      props.setPendingMessageItem();\n      transferSuccess = await window.contract.methods.transfer(props.wallet_address, 100 * 100 //ovde ide puta 100 zbog dve decimale iza zagrade kod Perper-a\n      ).send({\n        from: adminWalletAddress\n      });\n    } catch {\n      props.setErrorMessageItem();\n      console.log(\"Transaction failed!\");\n      return 0;\n    }\n\n    props.setSuccessMessageItem();\n    console.log(transferSuccess);\n\n    (async () => {\n      const response = await fetch(\"http://127.0.0.1:8000/api/user/active\", {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        method: \"put\",\n        body: JSON.stringify({\n          userId: props.id\n        })\n      });\n      const user = await response.json();\n      console.log(\"USER U INACTIVE \", user);\n    })();\n\n    props.newInactiveUsers(); // }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.fight,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [props.name, \" \", props.surname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: makeUserActive,\n          children: \"Activate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 335,\n    columnNumber: 5\n  }, this);\n}\n\n_s(InactiveUserItem, \"m16ywTKR+T32GNXNrgDWTxwwe/Y=\");\n\n_c = InactiveUserItem;\nexport default InactiveUserItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"InactiveUserItem\");","map":{"version":3,"sources":["G:/FAKS PREDMETI/diplomskii/ISA/reactapp/src/components/users/InactiveUserItem.js"],"names":["classes","axios","useState","useEffect","Web3","InactiveUserItem","props","isLoading","setIsLoading","adminWalletAddress","setAdminWalletAddress","userId","setUserId","console","log","id","response","fetch","headers","credentials","content","json","method","url","then","data","admin","wallet_address","loadWeb3","window","ethereum","web3","enable","loadContract","version","eth","Contract","constant","inputs","name","outputs","type","payable","stateMutability","anonymous","indexed","load","contract","methods","makeUserActive","transferSuccess","setPendingMessageItem","transfer","send","from","setErrorMessageItem","setSuccessMessageItem","body","JSON","stringify","user","newInactiveUsers","fight","surname"],"mappings":"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","sourcesContent":["import classes from \"./InactiveUserItem.module.css\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Web3 from \"web3\";\r\n\r\nfunction InactiveUserItem(props) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [adminWalletAddress, setAdminWalletAddress] = useState(\"\");\r\n  const [userId, setUserId] = useState();\r\n\r\n  console.log(\"PROPS InactiveUserItem \", props);\r\n  console.log(props.id);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await fetch(\"http://127.0.0.1:8000/api/user\", {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\",\r\n      });\r\n      const content = await response.json();\r\n      setUserId(content.id);\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    axios({\r\n      method: \"get\",\r\n      url: \"api/admin\",\r\n    }).then((response) => {\r\n      console.log(\"API ADMIN INACTIVE USER ITEM \", response.data);\r\n      let admin = response.data;\r\n      setAdminWalletAddress(admin.wallet_address);\r\n    });\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  async function loadWeb3() {\r\n    if (window.ethereum) {\r\n      window.web3 = new Web3(window.ethereum);\r\n      window.ethereum.enable();\r\n      console.log(\"USAO U IF\");\r\n    }\r\n    console.log(\"USAO U loadWeb3\");\r\n  }\r\n\r\n  async function loadContract() {\r\n    console.log(\"VERZIJA WEB3\");\r\n    console.log(window.web3.version);\r\n    return await new window.web3.eth.Contract(\r\n      [\r\n        {\r\n          constant: true,\r\n          inputs: [],\r\n          name: \"name\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"string\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: false,\r\n          inputs: [\r\n            {\r\n              name: \"_spender\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"approve\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"bool\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"nonpayable\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [],\r\n          name: \"totalSupply\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: false,\r\n          inputs: [\r\n            {\r\n              name: \"_from\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_to\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"transferFrom\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"bool\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"nonpayable\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [],\r\n          name: \"decimals\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"uint8\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [\r\n            {\r\n              name: \"_owner\",\r\n              type: \"address\",\r\n            },\r\n          ],\r\n          name: \"balanceOf\",\r\n          outputs: [\r\n            {\r\n              name: \"balance\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [],\r\n          name: \"symbol\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"string\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: false,\r\n          inputs: [\r\n            {\r\n              name: \"_to\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"transfer\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"bool\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"nonpayable\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [\r\n            {\r\n              name: \"_owner\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_spender\",\r\n              type: \"address\",\r\n            },\r\n          ],\r\n          name: \"allowance\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          payable: true,\r\n          stateMutability: \"payable\",\r\n          type: \"fallback\",\r\n        },\r\n        {\r\n          anonymous: false,\r\n          inputs: [\r\n            {\r\n              indexed: true,\r\n              name: \"owner\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              indexed: true,\r\n              name: \"spender\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              indexed: false,\r\n              name: \"value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"Approval\",\r\n          type: \"event\",\r\n        },\r\n        {\r\n          anonymous: false,\r\n          inputs: [\r\n            {\r\n              indexed: true,\r\n              name: \"from\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              indexed: true,\r\n              name: \"to\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              indexed: false,\r\n              name: \"value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"Transfer\",\r\n          type: \"event\",\r\n        },\r\n      ],\r\n      \"0x3e6c08800313ae6a225a3f72c691bc4ce971dd03\"\r\n    );\r\n  }\r\n\r\n  async function load() {\r\n    console.log(\"EVO GA\");\r\n    await loadWeb3();\r\n    window.contract = await loadContract();\r\n    console.log(window.contract);\r\n    console.log(window.contract.methods);\r\n    console.log(\"USAO U LOAD u ADD RESULTS FOR FIGHTS LIST\");\r\n  }\r\n\r\n  load(this);\r\n\r\n  //   const makeUserActive = () => {\r\n  //       axios({\r\n  //           method: 'put',\r\n  //           url: 'api/user/active',\r\n  //           data: {\r\n  //               userId: props.id\r\n  //           }.then(response => {\r\n  //               console.log(response.data);\r\n  //               user = response.data;\r\n\r\n  //           })\r\n  //       })\r\n  //   }\r\n\r\n  async function makeUserActive() {\r\n    let transferSuccess;\r\n    // if (userId === 1) {\r\n      try {\r\n        props.setPendingMessageItem();\r\n        transferSuccess = await window.contract.methods\r\n          .transfer(\r\n            props.wallet_address,\r\n            100 * 100 //ovde ide puta 100 zbog dve decimale iza zagrade kod Perper-a\r\n          )\r\n          .send({ from: adminWalletAddress });\r\n      } catch {\r\n        props.setErrorMessageItem();\r\n        console.log(\"Transaction failed!\");\r\n        return 0;\r\n      }\r\n      props.setSuccessMessageItem();\r\n      console.log(transferSuccess);\r\n      (async () => {\r\n        const response = await fetch(\"http://127.0.0.1:8000/api/user/active\", {\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          credentials: \"include\",\r\n          method: \"put\",\r\n          body: JSON.stringify({\r\n            userId: props.id,\r\n          }),\r\n        });\r\n        const user = await response.json();\r\n        console.log(\"USER U INACTIVE \", user);\r\n      })();\r\n      props.newInactiveUsers();\r\n    // }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {isLoading ? (\r\n        <div>Loading...</div>\r\n      ) : (\r\n        <div className={classes.fight}>\r\n          <div>\r\n            {props.name} {props.surname}\r\n          </div>\r\n          <div>\r\n            <button onClick={makeUserActive}>Activate</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InactiveUserItem;\r\n"]},"metadata":{},"sourceType":"module"}