{"ast":null,"code":"var _jsxFileName = \"G:\\\\FAKS PREDMETI\\\\diplomskii\\\\ISA\\\\reactapp\\\\src\\\\components\\\\pages\\\\MyProfile.js\",\n    _s = $RefreshSig$();\n\nimport { useRef } from \"react\";\nimport axios from \"axios\";\nimport Web3 from \"web3\";\nimport { useState } from \"react\";\nimport classes from \"./MyProfile.module.css\";\nimport Card from \"../ui/Card\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MyProfile(props) {\n  _s();\n\n  console.log(\"LOGED USER\", props.user);\n  console.log(\"NAME\", props.user.name);\n  console.log(\"WALLET ADDRESS \", props.user.wallet_address, typeof props.user.wallet_address);\n  const [name, setName] = useState(null);\n  const [surname, setSurname] = useState(null);\n  const [email, setEmail] = useState(null);\n  const [username, setUsername] = useState(null);\n  const [walletAddress, setWalletAddress] = useState(\"\");\n  const [balance, setBalance] = useState(null);\n  const [state, setState] = useState({\n    hasError: false\n  });\n  useEffect(() => {\n    (async () => {\n      const response = await fetch(\"http://127.0.0.1:8000/api/user\", {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n      });\n      const user = await response.json();\n      console.log(\"IDE CONTENT\", user);\n      setWalletAddress(user.wallet_address);\n      setName(user.name);\n      setSurname(user.surname);\n      setEmail(user.email);\n      setUsername(user.username);\n    })();\n  }, []);\n  const nameInputRef = useRef(\"\");\n  const surnameInputRef = useRef(\"\");\n  const emailInputRef = useRef(\"\");\n  const walletAddressInputRef = useRef(\"\");\n  const usernameInputRef = useRef(\"\");\n  const passwordInputRef = useRef(\"\");\n  const confirmPasswordInputRef = useRef(\"\");\n\n  function submitHandler(event) {\n    event.preventDefault();\n    const enteredName = nameInputRef.current.value;\n    const enteredSurname = surnameInputRef.current.value;\n    const enteredEmail = emailInputRef.current.value;\n    const enteredWalletAddress = walletAddressInputRef.current.value;\n    const enteredUsername = usernameInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n    const enteredConfirmPassword = confirmPasswordInputRef.current.value;\n    console.log(enteredName, enteredSurname, enteredEmail, enteredWalletAddress, enteredUsername, enteredPassword);\n    axios({\n      method: \"put\",\n      url: \"users/\" + props.user.id + \"/\",\n      data: {\n        name: enteredName,\n        surname: enteredSurname,\n        email: enteredEmail,\n        wallet_address: enteredWalletAddress,\n        username: enteredUsername,\n        password: props.user.password\n      }\n    }).then(response => {\n      console.log(response);\n      console.log(response.data);\n\n      if (response.status === 200) {\n        console.log(\"DOBAR\");\n\n        if (enteredPassword !== \"\" && enteredPassword === enteredConfirmPassword) {\n          console.log(\"MENJAMO SIFRU\");\n          axios({\n            method: \"put\",\n            url: \"api/user/change\",\n            data: {\n              id: props.user.id,\n              password: enteredPassword\n            }\n          }).then(response => {\n            console.log(response);\n          }).catch(error => {\n            console.log(error);\n          });\n        }\n      }\n    });\n  } // if(window.contract === null) {\n  //   console.log(\"JESTE NULL\");\n  // } else {\n  //   console.log(\"NIJE NULL\");\n  // }\n\n\n  async function loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      window.ethereum.enable();\n      console.log(\"USAO U IF\");\n    }\n\n    console.log(\"USAO U loadWeb3\");\n  }\n\n  async function loadContract() {\n    console.log(\"VERZIJA WEB3\");\n    console.log(window.web3.version);\n    return await new window.web3.eth.Contract([{\n      constant: true,\n      inputs: [],\n      name: \"name\",\n      outputs: [{\n        name: \"\",\n        type: \"string\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: false,\n      inputs: [{\n        name: \"_spender\",\n        type: \"address\"\n      }, {\n        name: \"_value\",\n        type: \"uint256\"\n      }],\n      name: \"approve\",\n      outputs: [{\n        name: \"\",\n        type: \"bool\"\n      }],\n      payable: false,\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [],\n      name: \"totalSupply\",\n      outputs: [{\n        name: \"\",\n        type: \"uint256\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: false,\n      inputs: [{\n        name: \"_from\",\n        type: \"address\"\n      }, {\n        name: \"_to\",\n        type: \"address\"\n      }, {\n        name: \"_value\",\n        type: \"uint256\"\n      }],\n      name: \"transferFrom\",\n      outputs: [{\n        name: \"\",\n        type: \"bool\"\n      }],\n      payable: false,\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [],\n      name: \"decimals\",\n      outputs: [{\n        name: \"\",\n        type: \"uint8\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [{\n        name: \"_owner\",\n        type: \"address\"\n      }],\n      name: \"balanceOf\",\n      outputs: [{\n        name: \"balance\",\n        type: \"uint256\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [],\n      name: \"symbol\",\n      outputs: [{\n        name: \"\",\n        type: \"string\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: false,\n      inputs: [{\n        name: \"_to\",\n        type: \"address\"\n      }, {\n        name: \"_value\",\n        type: \"uint256\"\n      }],\n      name: \"transfer\",\n      outputs: [{\n        name: \"\",\n        type: \"bool\"\n      }],\n      payable: false,\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [{\n        name: \"_owner\",\n        type: \"address\"\n      }, {\n        name: \"_spender\",\n        type: \"address\"\n      }],\n      name: \"allowance\",\n      outputs: [{\n        name: \"\",\n        type: \"uint256\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      payable: true,\n      stateMutability: \"payable\",\n      type: \"fallback\"\n    }, {\n      anonymous: false,\n      inputs: [{\n        indexed: true,\n        name: \"owner\",\n        type: \"address\"\n      }, {\n        indexed: true,\n        name: \"spender\",\n        type: \"address\"\n      }, {\n        indexed: false,\n        name: \"value\",\n        type: \"uint256\"\n      }],\n      name: \"Approval\",\n      type: \"event\"\n    }, {\n      anonymous: false,\n      inputs: [{\n        indexed: true,\n        name: \"from\",\n        type: \"address\"\n      }, {\n        indexed: true,\n        name: \"to\",\n        type: \"address\"\n      }, {\n        indexed: false,\n        name: \"value\",\n        type: \"uint256\"\n      }],\n      name: \"Transfer\",\n      type: \"event\"\n    }], \"0x3e6c08800313ae6a225a3f72c691bc4ce971dd03\");\n  }\n\n  async function load() {\n    console.log(\"EVO GA\");\n    await loadWeb3();\n    window.contract = await loadContract();\n    console.log(window.contract);\n    console.log(window.contract.methods);\n    console.log(\"EVO GA ON \", walletAddress);\n    let balanceOfMe = 0;\n\n    try {\n      balanceOfMe = await window.contract.methods.balanceOf(walletAddress).call();\n    } catch {\n      console.log(\"Not a valid address\");\n    }\n\n    setBalance(balanceOfMe / 100); // setStatus(\"Ready!\");\n\n    console.log(\"USAO U LOAD\");\n  }\n\n  if (props.user.wallet_address !== null) {\n    load(this);\n  }\n\n  console.log(\"BALANS JE \", balance);\n  console.log(\"STATE JE \", state);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"h3 mb-3 fw-normal\",\n          children: \"Change user data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingInput\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"name\",\n            ref: nameInputRef // onChange={props.changeUser}\n            ,\n            defaultValue: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingInput\",\n            children: \"Surname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"surname\",\n            ref: surnameInputRef,\n            defaultValue: surname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingInput\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            placeholder: \"name@example.com\",\n            ref: emailInputRef,\n            defaultValue: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingInput\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"username\",\n            ref: usernameInputRef,\n            defaultValue: username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingInput\",\n            children: \"Wallet Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"wallet address\",\n            ref: walletAddressInputRef,\n            defaultValue: walletAddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingPassword\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            placeholder: \"Password\",\n            ref: passwordInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingPassword\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            placeholder: \"Confirm Password\",\n            ref: confirmPasswordInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingPassword\",\n            children: \"Amount of PER\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"form-control\",\n            placeholder: \"Perper amount\",\n            defaultValue: balance,\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.actions,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-100 btn btn-lg btn-primary\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 391,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyProfile, \"qtj8AYqZhsm4dWXfjN/BWq1SdNU=\");\n\n_c = MyProfile;\nexport default MyProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyProfile\");","map":{"version":3,"sources":["G:/FAKS PREDMETI/diplomskii/ISA/reactapp/src/components/pages/MyProfile.js"],"names":["useRef","axios","Web3","useState","classes","Card","useEffect","MyProfile","props","console","log","user","name","wallet_address","setName","surname","setSurname","email","setEmail","username","setUsername","walletAddress","setWalletAddress","balance","setBalance","state","setState","hasError","response","fetch","headers","credentials","json","nameInputRef","surnameInputRef","emailInputRef","walletAddressInputRef","usernameInputRef","passwordInputRef","confirmPasswordInputRef","submitHandler","event","preventDefault","enteredName","current","value","enteredSurname","enteredEmail","enteredWalletAddress","enteredUsername","enteredPassword","enteredConfirmPassword","method","url","id","data","password","then","status","catch","error","loadWeb3","window","ethereum","web3","enable","loadContract","version","eth","Contract","constant","inputs","outputs","type","payable","stateMutability","anonymous","indexed","load","contract","methods","balanceOfMe","balanceOf","call","form","control","actions"],"mappings":"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","sourcesContent":["import { useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport Web3 from \"web3\";\r\nimport { useState } from \"react\";\r\nimport classes from \"./MyProfile.module.css\";\r\nimport Card from \"../ui/Card\";\r\nimport { useEffect } from \"react\";\r\n\r\nfunction MyProfile(props) {\r\n\r\n  console.log(\"LOGED USER\", props.user);\r\n\r\n  console.log(\"NAME\", props.user.name);\r\n  console.log(\r\n    \"WALLET ADDRESS \",\r\n    props.user.wallet_address,\r\n    typeof props.user.wallet_address\r\n  );\r\n\r\n  const [name, setName] = useState(null);\r\n  const [surname, setSurname] = useState(null);\r\n  const [email, setEmail] = useState(null);\r\n  const [username, setUsername] = useState(null);\r\n\r\n\r\n  const [walletAddress, setWalletAddress] = useState(\r\n    \"\"\r\n  );\r\n  const [balance, setBalance] = useState(null);\r\n  const [state, setState] = useState({hasError: false});\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await fetch(\"http://127.0.0.1:8000/api/user\", {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\",\r\n      });\r\n\r\n      const user = await response.json();\r\n      console.log(\"IDE CONTENT\", user);\r\n      setWalletAddress(user.wallet_address);\r\n      setName(user.name);\r\n      setSurname(user.surname);\r\n      setEmail(user.email);\r\n      setUsername(user.username);\r\n    })();\r\n  }, []);\r\n\r\n  const nameInputRef = useRef(\"\");\r\n  const surnameInputRef = useRef(\"\");\r\n  const emailInputRef = useRef(\"\");\r\n  const walletAddressInputRef = useRef(\"\");\r\n  const usernameInputRef = useRef(\"\");\r\n  const passwordInputRef = useRef(\"\");\r\n  const confirmPasswordInputRef = useRef(\"\");\r\n\r\n  function submitHandler(event) {\r\n    event.preventDefault();\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredSurname = surnameInputRef.current.value;\r\n    const enteredEmail = emailInputRef.current.value;\r\n    const enteredWalletAddress = walletAddressInputRef.current.value;\r\n    const enteredUsername = usernameInputRef.current.value;\r\n    const enteredPassword = passwordInputRef.current.value;\r\n    const enteredConfirmPassword = confirmPasswordInputRef.current.value;\r\n    console.log(\r\n      enteredName,\r\n      enteredSurname,\r\n      enteredEmail,\r\n      enteredWalletAddress,\r\n      enteredUsername,\r\n      enteredPassword\r\n    );\r\n\r\n    axios({\r\n      method: \"put\",\r\n      url: \"users/\" + props.user.id + \"/\",\r\n      data: {\r\n        name: enteredName,\r\n        surname: enteredSurname,\r\n        email: enteredEmail,\r\n        wallet_address: enteredWalletAddress,\r\n        username: enteredUsername,\r\n        password: props.user.password,\r\n      },\r\n    }).then((response) => {\r\n      console.log(response);\r\n      console.log(response.data);\r\n      if (response.status === 200) {\r\n        console.log(\"DOBAR\");\r\n        if (\r\n          enteredPassword !== \"\" &&\r\n          enteredPassword === enteredConfirmPassword\r\n        ) {\r\n          console.log(\"MENJAMO SIFRU\");\r\n          axios({\r\n            method: \"put\",\r\n            url: \"api/user/change\",\r\n            data: {\r\n              id: props.user.id,\r\n              password: enteredPassword,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              console.log(response);\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n            });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // if(window.contract === null) {\r\n  //   console.log(\"JESTE NULL\");\r\n  // } else {\r\n  //   console.log(\"NIJE NULL\");\r\n  // }\r\n\r\n  async function loadWeb3() {\r\n    if (window.ethereum) {\r\n      window.web3 = new Web3(window.ethereum);\r\n      window.ethereum.enable();\r\n      console.log(\"USAO U IF\");\r\n    }\r\n    console.log(\"USAO U loadWeb3\");\r\n  }\r\n\r\n  async function loadContract() {\r\n    console.log(\"VERZIJA WEB3\");\r\n    console.log(window.web3.version);\r\n    return await new window.web3.eth.Contract(\r\n      [\r\n        {\r\n          constant: true,\r\n          inputs: [],\r\n          name: \"name\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"string\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: false,\r\n          inputs: [\r\n            {\r\n              name: \"_spender\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"approve\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"bool\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"nonpayable\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [],\r\n          name: \"totalSupply\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: false,\r\n          inputs: [\r\n            {\r\n              name: \"_from\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_to\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"transferFrom\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"bool\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"nonpayable\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [],\r\n          name: \"decimals\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"uint8\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [\r\n            {\r\n              name: \"_owner\",\r\n              type: \"address\",\r\n            },\r\n          ],\r\n          name: \"balanceOf\",\r\n          outputs: [\r\n            {\r\n              name: \"balance\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [],\r\n          name: \"symbol\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"string\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: false,\r\n          inputs: [\r\n            {\r\n              name: \"_to\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"transfer\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"bool\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"nonpayable\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [\r\n            {\r\n              name: \"_owner\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_spender\",\r\n              type: \"address\",\r\n            },\r\n          ],\r\n          name: \"allowance\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          payable: true,\r\n          stateMutability: \"payable\",\r\n          type: \"fallback\",\r\n        },\r\n        {\r\n          anonymous: false,\r\n          inputs: [\r\n            {\r\n              indexed: true,\r\n              name: \"owner\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              indexed: true,\r\n              name: \"spender\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              indexed: false,\r\n              name: \"value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"Approval\",\r\n          type: \"event\",\r\n        },\r\n        {\r\n          anonymous: false,\r\n          inputs: [\r\n            {\r\n              indexed: true,\r\n              name: \"from\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              indexed: true,\r\n              name: \"to\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              indexed: false,\r\n              name: \"value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"Transfer\",\r\n          type: \"event\",\r\n        },\r\n      ],\r\n      \"0x3e6c08800313ae6a225a3f72c691bc4ce971dd03\"\r\n    );\r\n  }\r\n\r\n  async function load() {\r\n    console.log(\"EVO GA\");\r\n    await loadWeb3();\r\n    window.contract = await loadContract();\r\n    console.log(window.contract);\r\n    console.log(window.contract.methods);\r\n    console.log(\"EVO GA ON \", walletAddress);\r\n    let balanceOfMe = 0;\r\n    try {\r\n    balanceOfMe = await window.contract.methods\r\n      .balanceOf(walletAddress)\r\n      .call();\r\n    } catch {\r\n      console.log(\"Not a valid address\")\r\n    }\r\n    setBalance(balanceOfMe / 100);\r\n    // setStatus(\"Ready!\");\r\n    console.log(\"USAO U LOAD\");\r\n  }\r\n\r\n  if (props.user.wallet_address !== null) {\r\n    load(this);\r\n  }\r\n\r\n\r\n\r\n  console.log(\"BALANS JE \", balance);\r\n  console.log(\"STATE JE \", state);\r\n\r\n  return (\r\n    <div>\r\n      <Card>\r\n        <form className={classes.form} onSubmit={submitHandler}>\r\n          <h1 className=\"h3 mb-3 fw-normal\">Change user data</h1>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingInput\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"name\"\r\n              ref={nameInputRef}\r\n              // onChange={props.changeUser}\r\n              defaultValue={name}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingInput\">Surname</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"surname\"\r\n              ref={surnameInputRef}\r\n              defaultValue={surname}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingInput\">Email address</label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              placeholder=\"name@example.com\"\r\n              ref={emailInputRef}\r\n              defaultValue={email}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingInput\">Username</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"username\"\r\n              ref={usernameInputRef}\r\n              defaultValue={username}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingInput\">Wallet Address</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"wallet address\"\r\n              ref={walletAddressInputRef}\r\n              defaultValue={walletAddress}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingPassword\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Password\"\r\n              ref={passwordInputRef}\r\n            />\r\n          </div>\r\n\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingPassword\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Confirm Password\"\r\n              ref={confirmPasswordInputRef}\r\n            />\r\n          </div>\r\n\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingPassword\">Amount of PER</label>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              placeholder=\"Perper amount\"\r\n              defaultValue={balance}\r\n              readOnly\r\n            />\r\n          </div>\r\n\r\n          <div className={classes.actions}>\r\n            <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyProfile;\r\n"]},"metadata":{},"sourceType":"module"}