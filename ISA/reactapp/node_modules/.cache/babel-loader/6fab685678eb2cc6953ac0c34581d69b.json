{"ast":null,"code":"var _jsxFileName = \"G:\\\\FAKS PREDMETI\\\\diplomskii\\\\ISA\\\\reactapp\\\\src\\\\components\\\\pages\\\\MyProfile.js\",\n    _s = $RefreshSig$();\n\nimport { useRef } from \"react\";\nimport axios from \"axios\";\nimport Web3 from \"web3\"; // import { useHistory } from \"react-router-dom\";\n\nimport { useState } from \"react\";\nimport classes from \"./MyProfile.module.css\";\nimport Card from \"../ui/Card\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MyProfile(props) {\n  _s();\n\n  //   const history = useHistory();\n  console.log(\"LOGED USER\", props.user);\n  console.log(\"NAME\", props.user.name);\n  console.log(\"WALLET ADDRESS \", props.user.wallet_address, typeof props.user.wallet_address); // const [walletAddress, setWalletAddress] = useState(props.user.wallet_address);\n\n  const [walletAddress, setWalletAddress] = useState(\"0x2C466ade72BFE409EC41522Ed77D257B171ddE66\");\n  const [balance, setBalance] = useState(null);\n  const [state, setState] = useState({\n    hasError: false\n  });\n  useEffect(() => {\n    (async () => {\n      const response = await fetch(\"http://127.0.0.1:8000/api/user\", {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n      });\n      const content = await response.json();\n      console.log(\"IDE CONTENT\", content);\n      setWalletAddress(content.wallet_address);\n    })();\n  }, []);\n  const nameInputRef = useRef(\"\");\n  const surnameInputRef = useRef(\"\");\n  const emailInputRef = useRef(\"\");\n  const walletAddressInputRef = useRef(\"\");\n  const usernameInputRef = useRef(\"\");\n  const passwordInputRef = useRef(\"\");\n  const confirmPasswordInputRef = useRef(\"\");\n\n  function submitHandler(event) {\n    event.preventDefault();\n    const enteredName = nameInputRef.current.value;\n    const enteredSurname = surnameInputRef.current.value;\n    const enteredEmail = emailInputRef.current.value;\n    const enteredWalletAddress = walletAddressInputRef.current.value;\n    const enteredUsername = usernameInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n    const enteredConfirmPassword = confirmPasswordInputRef.current.value;\n    console.log(enteredName, enteredSurname, enteredEmail, enteredWalletAddress, enteredUsername, enteredPassword);\n    axios({\n      method: \"put\",\n      url: \"users/\" + props.user.id + \"/\",\n      data: {\n        name: enteredName,\n        surname: enteredSurname,\n        email: enteredEmail,\n        wallet_address: enteredWalletAddress,\n        username: enteredUsername,\n        password: props.user.password\n      }\n    }).then(response => {\n      console.log(response);\n      console.log(response.data);\n\n      if (response.status === 200) {\n        console.log(\"DOBAR\");\n\n        if (enteredPassword !== \"\" && enteredPassword === enteredConfirmPassword) {\n          console.log(\"MENJAMO SIFRU\");\n          axios({\n            method: \"put\",\n            url: \"api/user/change\",\n            data: {\n              id: props.user.id,\n              password: enteredPassword\n            }\n          }).then(response => {\n            console.log(response);\n          }).catch(error => {\n            console.log(error);\n          });\n        }\n      }\n    });\n  } // if(window.contract === null) {\n  //   console.log(\"JESTE NULL\");\n  // } else {\n  //   console.log(\"NIJE NULL\");\n  // }\n\n\n  async function loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      window.ethereum.enable();\n      console.log(\"USAO U IF\");\n    }\n\n    console.log(\"USAO U loadWeb3\");\n  }\n\n  async function loadContract() {\n    console.log(\"VERZIJA WEB3\");\n    console.log(window.web3.version);\n    return await new window.web3.eth.Contract([{\n      constant: true,\n      inputs: [],\n      name: \"name\",\n      outputs: [{\n        name: \"\",\n        type: \"string\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: false,\n      inputs: [{\n        name: \"_spender\",\n        type: \"address\"\n      }, {\n        name: \"_value\",\n        type: \"uint256\"\n      }],\n      name: \"approve\",\n      outputs: [{\n        name: \"\",\n        type: \"bool\"\n      }],\n      payable: false,\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [],\n      name: \"totalSupply\",\n      outputs: [{\n        name: \"\",\n        type: \"uint256\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: false,\n      inputs: [{\n        name: \"_from\",\n        type: \"address\"\n      }, {\n        name: \"_to\",\n        type: \"address\"\n      }, {\n        name: \"_value\",\n        type: \"uint256\"\n      }],\n      name: \"transferFrom\",\n      outputs: [{\n        name: \"\",\n        type: \"bool\"\n      }],\n      payable: false,\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [],\n      name: \"decimals\",\n      outputs: [{\n        name: \"\",\n        type: \"uint8\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [{\n        name: \"_owner\",\n        type: \"address\"\n      }],\n      name: \"balanceOf\",\n      outputs: [{\n        name: \"balance\",\n        type: \"uint256\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [],\n      name: \"symbol\",\n      outputs: [{\n        name: \"\",\n        type: \"string\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      constant: false,\n      inputs: [{\n        name: \"_to\",\n        type: \"address\"\n      }, {\n        name: \"_value\",\n        type: \"uint256\"\n      }],\n      name: \"transfer\",\n      outputs: [{\n        name: \"\",\n        type: \"bool\"\n      }],\n      payable: false,\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    }, {\n      constant: true,\n      inputs: [{\n        name: \"_owner\",\n        type: \"address\"\n      }, {\n        name: \"_spender\",\n        type: \"address\"\n      }],\n      name: \"allowance\",\n      outputs: [{\n        name: \"\",\n        type: \"uint256\"\n      }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\"\n    }, {\n      payable: true,\n      stateMutability: \"payable\",\n      type: \"fallback\"\n    }, {\n      anonymous: false,\n      inputs: [{\n        indexed: true,\n        name: \"owner\",\n        type: \"address\"\n      }, {\n        indexed: true,\n        name: \"spender\",\n        type: \"address\"\n      }, {\n        indexed: false,\n        name: \"value\",\n        type: \"uint256\"\n      }],\n      name: \"Approval\",\n      type: \"event\"\n    }, {\n      anonymous: false,\n      inputs: [{\n        indexed: true,\n        name: \"from\",\n        type: \"address\"\n      }, {\n        indexed: true,\n        name: \"to\",\n        type: \"address\"\n      }, {\n        indexed: false,\n        name: \"value\",\n        type: \"uint256\"\n      }],\n      name: \"Transfer\",\n      type: \"event\"\n    }], \"0x3e6c08800313ae6a225a3f72c691bc4ce971dd03\");\n  }\n\n  async function load() {\n    console.log(\"EVO GA\");\n    await loadWeb3();\n    window.contract = await loadContract();\n    console.log(window.contract);\n    console.log(window.contract.methods);\n    console.log(\"EVO GA ON \", walletAddress);\n    let balanceOfMe = 0;\n\n    try {\n      let balanceOfMe = await window.contract.methods.balanceOf(walletAddress).call();\n    } catch (error) {\n      setState({\n        hasError: false\n      });\n    }\n\n    setBalance(balanceOfMe / 100); // setStatus(\"Ready!\");\n\n    console.log(\"USAO U LOAD\");\n  }\n\n  if (props.user.wallet_address !== null) {\n    load(this);\n  }\n\n  console.log(\"BALANS JE \", balance);\n  console.log(\"STATE JE \", state);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"h3 mb-3 fw-normal\",\n          children: \"Change user data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingInput\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"name\",\n            ref: nameInputRef // onChange={props.changeUser}\n            ,\n            defaultValue: props.user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingInput\",\n            children: \"Surname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"surname\",\n            ref: surnameInputRef,\n            defaultValue: props.user.surname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingInput\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            placeholder: \"name@example.com\",\n            ref: emailInputRef,\n            defaultValue: props.user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingInput\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"username\",\n            ref: usernameInputRef,\n            defaultValue: props.user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingInput\",\n            children: \"Wallet Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"wallet address\",\n            ref: walletAddressInputRef,\n            defaultValue: props.user.wallet_address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingPassword\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            placeholder: \"Password\",\n            ref: passwordInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingPassword\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            placeholder: \"Confirm Password\",\n            ref: confirmPasswordInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingPassword\",\n            children: \"Amount of PER\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"form-control\",\n            placeholder: \"Perper amount\",\n            defaultValue: balance,\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.actions,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-100 btn btn-lg btn-primary\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 386,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyProfile, \"cGEtyV44R6uBjrDsHTFBjtyyGfQ=\");\n\n_c = MyProfile;\nexport default MyProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyProfile\");","map":{"version":3,"sources":["G:/FAKS PREDMETI/diplomskii/ISA/reactapp/src/components/pages/MyProfile.js"],"names":["useRef","axios","Web3","useState","classes","Card","useEffect","MyProfile","props","console","log","user","name","wallet_address","walletAddress","setWalletAddress","balance","setBalance","state","setState","hasError","response","fetch","headers","credentials","content","json","nameInputRef","surnameInputRef","emailInputRef","walletAddressInputRef","usernameInputRef","passwordInputRef","confirmPasswordInputRef","submitHandler","event","preventDefault","enteredName","current","value","enteredSurname","enteredEmail","enteredWalletAddress","enteredUsername","enteredPassword","enteredConfirmPassword","method","url","id","data","surname","email","username","password","then","status","catch","error","loadWeb3","window","ethereum","web3","enable","loadContract","version","eth","Contract","constant","inputs","outputs","type","payable","stateMutability","anonymous","indexed","load","contract","methods","balanceOfMe","balanceOf","call","form","control","actions"],"mappings":"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","sourcesContent":["import { useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport Web3 from \"web3\";\r\n// import { useHistory } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport classes from \"./MyProfile.module.css\";\r\nimport Card from \"../ui/Card\";\r\nimport { useEffect } from \"react\";\r\n\r\nfunction MyProfile(props) {\r\n  //   const history = useHistory();\r\n\r\n  console.log(\"LOGED USER\", props.user);\r\n\r\n  console.log(\"NAME\", props.user.name);\r\n  console.log(\r\n    \"WALLET ADDRESS \",\r\n    props.user.wallet_address,\r\n    typeof props.user.wallet_address\r\n  );\r\n\r\n  // const [walletAddress, setWalletAddress] = useState(props.user.wallet_address);\r\n  const [walletAddress, setWalletAddress] = useState(\r\n    \"0x2C466ade72BFE409EC41522Ed77D257B171ddE66\"\r\n  );\r\n  const [balance, setBalance] = useState(null);\r\n  const [state, setState] = useState({hasError: false});\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await fetch(\"http://127.0.0.1:8000/api/user\", {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\",\r\n      });\r\n\r\n      const content = await response.json();\r\n      console.log(\"IDE CONTENT\", content);\r\n      setWalletAddress(content.wallet_address);\r\n    })();\r\n  }, []);\r\n\r\n  const nameInputRef = useRef(\"\");\r\n  const surnameInputRef = useRef(\"\");\r\n  const emailInputRef = useRef(\"\");\r\n  const walletAddressInputRef = useRef(\"\");\r\n  const usernameInputRef = useRef(\"\");\r\n  const passwordInputRef = useRef(\"\");\r\n  const confirmPasswordInputRef = useRef(\"\");\r\n\r\n  function submitHandler(event) {\r\n    event.preventDefault();\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredSurname = surnameInputRef.current.value;\r\n    const enteredEmail = emailInputRef.current.value;\r\n    const enteredWalletAddress = walletAddressInputRef.current.value;\r\n    const enteredUsername = usernameInputRef.current.value;\r\n    const enteredPassword = passwordInputRef.current.value;\r\n    const enteredConfirmPassword = confirmPasswordInputRef.current.value;\r\n    console.log(\r\n      enteredName,\r\n      enteredSurname,\r\n      enteredEmail,\r\n      enteredWalletAddress,\r\n      enteredUsername,\r\n      enteredPassword\r\n    );\r\n\r\n    axios({\r\n      method: \"put\",\r\n      url: \"users/\" + props.user.id + \"/\",\r\n      data: {\r\n        name: enteredName,\r\n        surname: enteredSurname,\r\n        email: enteredEmail,\r\n        wallet_address: enteredWalletAddress,\r\n        username: enteredUsername,\r\n        password: props.user.password,\r\n      },\r\n    }).then((response) => {\r\n      console.log(response);\r\n      console.log(response.data);\r\n      if (response.status === 200) {\r\n        console.log(\"DOBAR\");\r\n        if (\r\n          enteredPassword !== \"\" &&\r\n          enteredPassword === enteredConfirmPassword\r\n        ) {\r\n          console.log(\"MENJAMO SIFRU\");\r\n          axios({\r\n            method: \"put\",\r\n            url: \"api/user/change\",\r\n            data: {\r\n              id: props.user.id,\r\n              password: enteredPassword,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              console.log(response);\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n            });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // if(window.contract === null) {\r\n  //   console.log(\"JESTE NULL\");\r\n  // } else {\r\n  //   console.log(\"NIJE NULL\");\r\n  // }\r\n\r\n  async function loadWeb3() {\r\n    if (window.ethereum) {\r\n      window.web3 = new Web3(window.ethereum);\r\n      window.ethereum.enable();\r\n      console.log(\"USAO U IF\");\r\n    }\r\n    console.log(\"USAO U loadWeb3\");\r\n  }\r\n\r\n  async function loadContract() {\r\n    console.log(\"VERZIJA WEB3\");\r\n    console.log(window.web3.version);\r\n    return await new window.web3.eth.Contract(\r\n      [\r\n        {\r\n          constant: true,\r\n          inputs: [],\r\n          name: \"name\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"string\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: false,\r\n          inputs: [\r\n            {\r\n              name: \"_spender\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"approve\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"bool\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"nonpayable\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [],\r\n          name: \"totalSupply\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: false,\r\n          inputs: [\r\n            {\r\n              name: \"_from\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_to\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"transferFrom\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"bool\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"nonpayable\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [],\r\n          name: \"decimals\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"uint8\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [\r\n            {\r\n              name: \"_owner\",\r\n              type: \"address\",\r\n            },\r\n          ],\r\n          name: \"balanceOf\",\r\n          outputs: [\r\n            {\r\n              name: \"balance\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [],\r\n          name: \"symbol\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"string\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: false,\r\n          inputs: [\r\n            {\r\n              name: \"_to\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"transfer\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"bool\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"nonpayable\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          constant: true,\r\n          inputs: [\r\n            {\r\n              name: \"_owner\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              name: \"_spender\",\r\n              type: \"address\",\r\n            },\r\n          ],\r\n          name: \"allowance\",\r\n          outputs: [\r\n            {\r\n              name: \"\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          payable: false,\r\n          stateMutability: \"view\",\r\n          type: \"function\",\r\n        },\r\n        {\r\n          payable: true,\r\n          stateMutability: \"payable\",\r\n          type: \"fallback\",\r\n        },\r\n        {\r\n          anonymous: false,\r\n          inputs: [\r\n            {\r\n              indexed: true,\r\n              name: \"owner\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              indexed: true,\r\n              name: \"spender\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              indexed: false,\r\n              name: \"value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"Approval\",\r\n          type: \"event\",\r\n        },\r\n        {\r\n          anonymous: false,\r\n          inputs: [\r\n            {\r\n              indexed: true,\r\n              name: \"from\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              indexed: true,\r\n              name: \"to\",\r\n              type: \"address\",\r\n            },\r\n            {\r\n              indexed: false,\r\n              name: \"value\",\r\n              type: \"uint256\",\r\n            },\r\n          ],\r\n          name: \"Transfer\",\r\n          type: \"event\",\r\n        },\r\n      ],\r\n      \"0x3e6c08800313ae6a225a3f72c691bc4ce971dd03\"\r\n    );\r\n  }\r\n\r\n  async function load() {\r\n    console.log(\"EVO GA\");\r\n    await loadWeb3();\r\n    window.contract = await loadContract();\r\n    console.log(window.contract);\r\n    console.log(window.contract.methods);\r\n    console.log(\"EVO GA ON \", walletAddress);\r\n    let balanceOfMe = 0;\r\n    try {\r\n      let balanceOfMe = await window.contract.methods\r\n      .balanceOf(walletAddress)\r\n      .call();\r\n    }\r\n    catch(error) {\r\n      setState({hasError: false});\r\n    }\r\n    \r\n    setBalance(balanceOfMe / 100);\r\n    // setStatus(\"Ready!\");\r\n    console.log(\"USAO U LOAD\");\r\n  }\r\n\r\n  if (props.user.wallet_address !== null) {\r\n    load(this);\r\n  }\r\n\r\n\r\n\r\n  console.log(\"BALANS JE \", balance);\r\n  console.log(\"STATE JE \", state);\r\n\r\n  return (\r\n    <div>\r\n      <Card>\r\n        <form className={classes.form} onSubmit={submitHandler}>\r\n          <h1 className=\"h3 mb-3 fw-normal\">Change user data</h1>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingInput\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"name\"\r\n              ref={nameInputRef}\r\n              // onChange={props.changeUser}\r\n              defaultValue={props.user.name}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingInput\">Surname</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"surname\"\r\n              ref={surnameInputRef}\r\n              defaultValue={props.user.surname}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingInput\">Email address</label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              placeholder=\"name@example.com\"\r\n              ref={emailInputRef}\r\n              defaultValue={props.user.email}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingInput\">Username</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"username\"\r\n              ref={usernameInputRef}\r\n              defaultValue={props.user.username}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingInput\">Wallet Address</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"wallet address\"\r\n              ref={walletAddressInputRef}\r\n              defaultValue={props.user.wallet_address}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingPassword\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Password\"\r\n              ref={passwordInputRef}\r\n            />\r\n          </div>\r\n\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingPassword\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Confirm Password\"\r\n              ref={confirmPasswordInputRef}\r\n            />\r\n          </div>\r\n\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"floatingPassword\">Amount of PER</label>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              placeholder=\"Perper amount\"\r\n              defaultValue={balance}\r\n              readOnly\r\n            />\r\n          </div>\r\n\r\n          <div className={classes.actions}>\r\n            <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyProfile;\r\n"]},"metadata":{},"sourceType":"module"}